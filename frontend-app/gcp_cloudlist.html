<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xammer - GCP Cloudlist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.0/dist/cdn.min.js" defer></script>
    
    <style>
        /* Add x-cloak hiding rule at the top */
        [x-cloak] { display: none !important; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
        }
        .hidden { display: none !important; }
        .rotate-90 { transform: rotate(90deg); }
        .transition-all { transition: all 0.3s ease-in-out; }

        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 4px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Enhanced main content area */
        main {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 0 0 0 20px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        /* Enhanced form inputs */
        .form-input, .form-select {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(229, 231, 235, 0.8);
        }
        
        .form-select:disabled {
            background-color: #f3f4f6;
            cursor: not-allowed;
        }
        
        .form-input:focus, .form-select:focus {
            background: rgba(255, 255, 255, 1);
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-1px);
        }
        
        /* Enhanced skeleton animation */
        .skeleton { 
            background: linear-gradient(90deg, #f1f5f9 25%, #e2e8f0 50%, #f1f5f9 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        /* Enhanced clickable rows */
        .resource-row {
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .resource-row:hover {
            transform: translateX(4px);
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.03) 0%, rgba(102, 126, 234, 0.08) 100%);
        }
        
        .resource-row::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, #667eea, #764ba2);
            transform: scaleY(0);
            transition: transform 0.2s ease;
        }
        
        .resource-row:hover::before {
            transform: scaleY(1);
        }
        
        /* Enhanced service group cards */
        .service-group {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(229, 231, 235, 0.5);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .service-group:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.05);
            border-color: rgba(102, 126, 234, 0.3);
        }
        
        .service-group::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .service-group:hover::before {
            transform: scaleX(1);
        }
        
        /* Enhanced buttons */
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(102, 126, 234, 0.4);
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(229, 231, 235, 0.8);
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 1);
            border-color: #667eea;
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        /* Enhanced state badges */
        .state-badge {
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .state-badge::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }
        
        .state-badge:hover::before {
            left: 100%;
        }
        
        /* Enhanced header */
        .header-gradient {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(229, 231, 235, 0.8);
        }
        
        /* Enhanced empty state */
        .empty-state {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border: 2px dashed rgba(156, 163, 175, 0.5);
            transition: all 0.3s ease;
        }
        
        .empty-state:hover {
            border-color: rgba(102, 126, 234, 0.3);
            background: rgba(255, 255, 255, 0.9);
        }
        
        /* Pulse animation for status indicators */
        .pulse-dot {
            animation: pulse-dot 2s infinite;
        }
        
        @keyframes pulse-dot {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Enhanced loading animation */
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Enhanced filter dropdown */
        .filter-dropdown {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(229, 231, 235, 0.8);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        /* Service icon enhancements */
        .service-icon {
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .service-icon:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        /* Resource counter badge */
        .resource-counter {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
        }
        
        /* Smooth scroll */
        html {
            scroll-behavior: smooth;
        }
        
        /* Enhanced focus states */
        .focus-ring:focus {
            outline: 2px solid #667eea;
            outline-offset: 2px;
        }
    </style>
</head>
<body class="antialiased">

<div class="flex h-screen">
    <div th:replace="~{fragments/_sidebar :: sidebar}"></div>

    <main class="flex-1 flex flex-col">
        <header class="header-gradient h-20 flex-shrink-0 flex items-center justify-between px-8 sticky top-0 z-10">
            <div class="flex items-center space-x-4">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center">
                        <i class="fas fa-list text-white text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800">GCP Cloudlist</h1>
                        <p class="text-sm text-gray-600">Manage your GCP resources</p>
                    </div>
                </div>
            </div>
            <div class="flex items-center space-x-4">
                <div class="flex items-center space-x-2">
                    <div class="w-2 h-2 bg-green-500 rounded-full pulse-dot"></div>
                    <span id="update-status" class="text-sm text-gray-600">Ready</span>
                </div>
                <button id="refresh-button" class="group flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-indigo-600 hover:text-white bg-white hover:bg-indigo-600 rounded-lg border border-indigo-200 hover:border-indigo-600 transition-all duration-200 hover:shadow-md">
                    <i class="fas fa-sync-alt transition-transform group-hover:rotate-180"></i>
                    <span id="refresh-button-text">Refresh</span>
                </button>
            </div>
        </header>

        <div class="flex-1 overflow-y-auto p-8">
            <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 mb-8 border border-gray-200/50 shadow-lg">
                <div class="flex flex-wrap items-center justify-between gap-6">
                    <div class="flex items-center space-x-4 flex-1">
                        <div class="relative">
                            <i class="fas fa-globe absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                            <select id="region-filter" class="form-select pl-10 pr-4 py-3 rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 min-w-[200px]">
                                <option value="">All Regions</option>
                            </select>
                        </div>
                        <div class="relative flex-1 min-w-[350px]">
                            <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                            <input type="text" id="search-input" placeholder="Search resources by name or ID..." class="form-input w-full pl-12 pr-4 py-3 rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200">
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <button class="btn-secondary px-6 py-3 text-sm font-semibold rounded-xl hover:bg-gray-50 hover:border-indigo-500 hover:text-indigo-600 transition-all focus-ring">
                            <i class="fas fa-filter mr-2"></i>Advanced Filter
                        </button>
                        <button class="btn-primary px-6 py-3 text-sm font-semibold text-white rounded-xl shadow-md hover:shadow-lg focus-ring">
                            <i class="fas fa-file-excel mr-2"></i>Export Data
                        </button>
                    </div>
                </div>
            </div>

            <div id="resource-list-container" class="space-y-6">
                <div id="loading-state" class="w-full space-y-4">
                    </div>
                
                <div id="empty-state" class="empty-state hidden text-center py-20 px-8 rounded-2xl mt-8">
                    </div>
            </div>
        </div>
    </main>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const app = {
        allResources: [],
        isRefreshing: false,
        dom: {
            searchInput: document.getElementById('search-input'),
            regionFilter: document.getElementById('region-filter'),
            listContainer: document.getElementById('resource-list-container'),
            loadingState: document.getElementById('loading-state'),
            emptyState: document.getElementById('empty-state'),
            refreshButton: document.getElementById('refresh-button'),
            refreshButtonText: document.getElementById('refresh-button-text'),
            refreshButtonIcon: document.getElementById('refresh-button').querySelector('i'),
            updateStatus: document.getElementById('update-status'),
        },

        init() {
            this.setupEventListeners();
            this.loadResources(false);
        },

        setupEventListeners() {
            this.dom.searchInput.addEventListener('input', () => this.debounce(this.render, 300)());
            this.dom.regionFilter.addEventListener('change', () => this.render());
            this.dom.refreshButton.addEventListener('click', () => this.loadResources(true));
            window.addEventListener('storage', (e) => {
                if (e.key === 'selectedAccountId') {
                    this.loadResources(true);
                }
            });
        },

        debounce(func, delay) {
            let timeout;
            return function(...args) {
                const context = this;
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(context, args), delay);
            };
        },

        loadResources(forceRefresh = false) {
            const selectedAccountId = sessionStorage.getItem('selectedAccountId');
            if (!selectedAccountId) {
                this.dom.loadingState.style.display = 'none';
                this.dom.emptyState.classList.remove('hidden');
                this.dom.updateStatus.textContent = 'Please select an account.';
                return;
            }

            const cacheKey = `gcpCloudlistData-${selectedAccountId}`;
            const cachedData = sessionStorage.getItem(cacheKey);

            if (cachedData && !forceRefresh) {
                this.allResources = JSON.parse(cachedData);
                this.dom.updateStatus.textContent = `Updated: ${new Date().toLocaleTimeString()}`;
                this.populateRegionFilter();
                this.render();
                return;
            }

            // Set loading states
            this.isRefreshing = true;
            this.dom.updateStatus.innerHTML = '<div class="loading-spinner inline-block mr-2"></div>Updating...';
            this.dom.refreshButton.disabled = true;
            this.dom.refreshButtonText.textContent = 'Refreshing...';
            this.dom.refreshButtonIcon.classList.add('fa-spin');
            this.dom.regionFilter.innerHTML = '<option value="">Loading Regions...</option>';
            this.dom.regionFilter.disabled = true;

            if (forceRefresh) {
                sessionStorage.removeItem(cacheKey); 
            }
            
            fetch(`/api/gcp/cloudlist?accountId=${selectedAccountId}&forceRefresh=${forceRefresh}`)
                .then(res => res.json())
                .then(data => {
                    this.allResources = Array.isArray(data) ? data : [];
                    sessionStorage.setItem(cacheKey, JSON.stringify(this.allResources));
                    this.dom.updateStatus.textContent = `Updated: ${new Date().toLocaleTimeString()}`;
                    this.populateRegionFilter();
                    this.render();
                })
                .catch(error => {
                    console.error('Error fetching resources:', error);
                    this.allResources = [];
                    this.dom.updateStatus.textContent = 'Update failed';
                    this.dom.regionFilter.innerHTML = '<option value="">Error loading regions</option>';
                    this.render();
                })
                .finally(() => {
                    this.isRefreshing = false;
                    this.dom.refreshButton.disabled = false;
                    this.dom.refreshButtonText.textContent = 'Refresh';
                    this.dom.refreshButtonIcon.classList.remove('fa-spin');
                });
        },

        getRegionDisplayName(regionId) {
            const regionMap = {
                'us-east1': 'US East (N. Virginia)',
                'us-east4': 'US East (S. Carolina)',
                'us-central1': 'US Central (Iowa)',
                'us-west1': 'US West (Oregon)',
                'us-west2': 'US West (Los Angeles)',
                'us-west3': 'US West (Salt Lake City)',
                'us-west4': 'US West (Las Vegas)',
                'europe-west1': 'Europe (Belgium)',
                'europe-west2': 'Europe (London)',
                'europe-west3': 'Europe (Frankfurt)',
                'europe-west4': 'Europe (Netherlands)',
                'europe-west6': 'Europe (Zürich)',
                'europe-north1': 'Europe (Finland)',
                'europe-southwest1': 'Europe (Madrid)',
                'europe-central2': 'Europe (Warsaw)',
                'asia-east1': 'Asia Pacific (Taiwan)',
                'asia-east2': 'Asia Pacific (Hong Kong)',
                'asia-northeast1': 'Asia Pacific (Tokyo)',
                'asia-northeast2': 'Asia Pacific (Osaka)',
                'asia-northeast3': 'Asia Pacific (Seoul)',
                'asia-south1': 'Asia Pacific (Mumbai)',
                'asia-south2': 'Asia Pacific (Delhi)',
                'asia-southeast1': 'Asia Pacific (Singapore)',
                'asia-southeast2': 'Asia Pacific (Jakarta)',
                'australia-southeast1': 'Australia (Sydney)',
                'australia-southeast2': 'Australia (Melbourne)',
                'southamerica-east1': 'South America (São Paulo)',
                'southamerica-west1': 'South America (Santiago)',
                'global': 'Global',
            };
            return regionMap[regionId] || regionId.charAt(0).toUpperCase() + regionId.slice(1);
        },

        populateRegionFilter() {
            const regions = [...new Set(this.allResources.map(r => r.location).filter(Boolean))];
            regions.sort();
            
            this.dom.regionFilter.innerHTML = ''; // Clear existing options

            const defaultOption = document.createElement('option');
            defaultOption.value = '';
            defaultOption.textContent = 'All Regions';
            this.dom.regionFilter.appendChild(defaultOption);

            if (regions.length > 0) {
                regions.forEach(regionId => {
                    const option = document.createElement('option');
                    option.value = regionId;
                    option.textContent = this.getRegionDisplayName(regionId);
                    this.dom.regionFilter.appendChild(option);
                });
                this.dom.regionFilter.disabled = false;
            } else {
                this.dom.regionFilter.disabled = true;
                defaultOption.textContent = 'No Regions Found';
            }
        },

        render() {
            this.dom.loadingState.style.display = 'none';
            this.dom.listContainer.innerHTML = '';

            const filteredResources = this.getFilteredData();
            const groupedResources = this.groupResources(filteredResources);

            if (Object.keys(groupedResources).length === 0) {
                this.dom.emptyState.classList.remove('hidden');
                this.dom.listContainer.appendChild(this.dom.emptyState);
            } else {
                this.dom.emptyState.classList.add('hidden');
                for (const type in groupedResources) {
                    const group = { serviceType: type, resources: groupedResources[type] };
                    const groupElement = this.createGroupElement(group);
                    this.dom.listContainer.appendChild(groupElement);
                }
            }
            
            this.addEventListenersForToggles();
        },

        getFilteredData() {
            const searchTerm = this.dom.searchInput.value.toLowerCase();
            const region = this.dom.regionFilter.value;

            return this.allResources.filter(res => {
                const regionMatch = !region || (res.location && res.location === region);
                const searchMatch = !searchTerm ||
                    (res.name && res.name.toLowerCase().includes(searchTerm)) ||
                    (res.id && res.id.toLowerCase().includes(searchTerm));
                return regionMatch && searchMatch;
            });
        },

        groupResources(resources) {
            return resources.reduce((acc, resource) => {
                const type = resource.type || 'Other';
                if (!acc[type]) {
                    acc[type] = [];
                }
                acc[type].push(resource);
                return acc;
            }, {});
        },

        createGroupElement(group) {
            const container = document.createElement('div');
            container.className = 'service-group rounded-2xl shadow-lg overflow-hidden border border-gray-200/50 transition-all';
            const groupId = `group-content-${group.serviceType.replace(/[^a-zA-Z0-9]/g, '')}`;

            container.innerHTML = `
                <div class="flex items-center justify-between p-6 cursor-pointer toggle-button" data-target="#${groupId}">
                    <div class="flex items-center space-x-4 flex-1">
                        <i class="fas fa-chevron-right text-gray-400 w-5 text-center transition-all duration-200"></i>
                        <div class="service-icon w-12 h-12 flex items-center justify-center rounded-xl">
                            <img src="/icons/${this.getServiceIcon(group.serviceType)}" alt="${group.serviceType}" class="w-full h-full rounded-xl object-cover">
                        </div>
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-800 text-lg">${group.serviceType}</h3>
                            <p class="text-sm text-gray-600">GCP Service</p>
                        </div>
                        <div class="resource-counter text-sm font-bold px-4 py-2 rounded-full">
                            ${group.resources.length}
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <button class="btn-secondary px-4 py-2 text-sm font-semibold rounded-lg hover:bg-gray-100 transition-all">
                            <i class="fas fa-eye mr-2"></i>View Details
                        </button>
                    </div>
                </div>
                <div id="${groupId}" class="resource-content hidden bg-gradient-to-r from-gray-50/30 to-gray-100/30 backdrop-blur-sm">
                    ${group.resources.map(res => this.createResourceRow(res)).join('')}
                </div>
            `;
            return container;
        },

        createResourceRow(resource) {
            const hasDetails = false;

            return `
                <div class="resource-row border-t border-gray-200/50" data-id="${resource.id}">
                    <div class="grid grid-cols-12 items-center p-6 pl-16 text-sm hover:bg-white/50 transition-all duration-200">
                        <div class="col-span-6 flex items-center space-x-4">
                            <i class="fas fa-chevron-right text-gray-400 w-5 text-center transition-all duration-200 ${hasDetails ? '' : 'invisible'}"></i>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2">
                                    <p class="font-bold text-gray-800">${resource.name || 'N/A'}</p>
                                    <div class="w-1 h-1 bg-gray-400 rounded-full"></div>
                                    <p class="font-mono text-xs text-gray-500">${resource.id || 'N/A'}</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-span-2 flex items-center space-x-2">
                            <i class="fas fa-map-marker-alt text-gray-400 text-xs"></i>
                            <span class="font-semibold text-gray-600">${this.getRegionDisplayName(resource.location) || 'Global'}</span>
                        </div>
                        <div class="col-span-2">
                            <span class="state-badge px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${this.getStateClass(resource.status)}">
                                ${this.formatStatusText(resource.status)}
                            </span>
                        </div>
                        <div class="col-span-2 text-right pr-4">
                            <div class="flex items-center justify-end space-x-2">
                                 <i class="fas fa-external-link-alt text-gray-400 text-xs"></i>
                                 <span class="text-xs text-gray-500">No Extra Details</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        },

        addEventListenersForToggles() {
            this.dom.listContainer.querySelectorAll('.toggle-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    if (e.target.closest('.btn-secondary')) return;
                    const targetSelector = button.getAttribute('data-target');
                    const content = this.dom.listContainer.querySelector(targetSelector);
                    const icon = button.querySelector('.fa-chevron-right');
                    
                    if (content) {
                        content.classList.toggle('hidden');
                        icon.classList.toggle('rotate-90');
                    }
                });
            });
        },
        
        formatStatusText(status) {
            if (!status) return 'Unknown';
            const lower = status.toLowerCase().replace(/_/g, ' ');
            return lower.charAt(0).toUpperCase() + lower.slice(1);
        },
            
        getStateClass(state) {
            const s = (state || '').toLowerCase();
            if (['running', 'available', 'active', 'in-use', 'ready', 'ok'].includes(s)) return 'bg-green-100 text-green-800 border-green-200';
            if (['stopped', 'terminated', 'deleting', 'inactive', 'error', 'disabled'].includes(s)) return 'bg-red-100 text-red-800 border-red-200';
            if (['pending', 'stopping', 'provisioning', 'reconciling'].includes(s)) return 'bg-yellow-100 text-yellow-800 border-yellow-200';
            return 'bg-gray-100 text-gray-800 border-gray-200';
        },

        getServiceIcon(serviceType) {
            const iconMap = {
                'Compute Engine': 'gcp-compute-engine.png',
                'Cloud Storage': 'gcp-cloud-storage.png',
                'VPC Network': 'gcp-vpc.png',
                'Cloud SQL': 'gcp-cloud-sql.png',
                'Kubernetes Engine': 'gcp-gke.png',
                'Cloud DNS': 'gcp-cloud-dns.png',
                'Cloud IAM': 'gcp-iam.png',
                'Load Balancer': 'gcp-load-balancer.png',
                'Cloud Run': 'gcp-cloud-run.png',
                'Cloud Functions': 'gcp-cloud-functions.png',
                'Firewall Rule': 'gcp-firewall.png'
            };
            return iconMap[serviceType] || 'gcp-icon.png';
        },
    };
    
    app.init();
});
</script>

</body>
</html>