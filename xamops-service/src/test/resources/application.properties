# ===================================================================
# TEST ENVIRONMENT CONFIGURATION
# ===================================================================

# --- Test Database Configuration (In-Memory H2) ---
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# --- Test-specific settings ---
logging.level.org.springframework=WARN
logging.level.com.xammer.cloud=DEBUG
eureka.client.enabled=false
aws.region=us-east-1

# ===================================================================
# ADDED: Dummy properties required for the application to start during tests
# These values are placeholders to satisfy the configuration beans.
# ===================================================================
cors.allowed-origins=http://localhost:8080,http://localhost:3000
cloudformation.template.s3.url=https://dummy-url-for-testing.s3.amazonaws.com/template.yml
gemini.api.key=dummy-api-key-for-testing
quotas.key-codes=dummy-quota-key-code-for-testing
tagging.compliance.required-tags=cost-center,project
rightsizing.instance-size-order=nano,micro,small,medium,large,xlarge,2xlarge,4xlarge,8xlarge,12xlarge,16xlarge,24xlarge
quotas.key-codes=L-1216C47A,L-F678F1CE,L-7295265B,L-69A177A2
pricing.ebs.fallback-price=0.10
bucket4j.filters[0].url=^/api/dashboard.*
bucket4j.filters[0].rate-limit.bandwidths[0].capacity=10
bucket4j.filters[0].rate-limit.bandwidths[0].time=1
bucket4j.filters[0].rate-limit.bandwidths[0].unit=minutes
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs
app.frontend.url=http://localhost:5173

# --- Common JPA & Driver ---
# spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# spring.datasource.driver-class-name=org.postgresql.Driver

# --- Robust Hikari Connection Pool Settings (Shared) ---
spring.datasource.hikari.connection-timeout=30000
# Add this line at the end of the file
spring.mvc.async.request-timeout=300000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.keepalive-time=200000
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-test-query=SELECT 1