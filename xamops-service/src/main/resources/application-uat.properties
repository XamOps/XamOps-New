# ===================================================================
# UAT ENVIRONMENT CONFIGURATION
# ===================================================================

# --- UAT PostgreSQL Database (using environment variables) ---
spring.datasource.url=jdbc:postgresql://${DB_HOST:172.17.0.1}:${DB_PORT:5432}/${DB_NAME:xamops_db_uat}
spring.datasource.username=${DB_USER:app_user_uat}
spring.datasource.password=${DB_PASS:SecurePass123!}

# --- UAT Service Registry ---
eureka.client.serviceUrl.defaultZone=https://uat.xamops.com:8761/eureka/

# --- CRITICAL FIX: UAT Redis Host ---
# This tells your application to connect to the 'redis-uat' container on the Docker network.
spring.redis.host=redis-uat

# --- CORS for UAT Environment ---
# Only allows your UAT frontend to access the API
cors.allowed-origins=https://uat.xamops.com

# --- UAT API Keys & URLs ---
gemini.api.key=${GEMINI_API_KEY:AIzaSyDUHXg5yf3PrWdtvrHOhHQ9t5QKihoeCVA}
openai.api.key=${OPENAI_API_KEY}
cloudformation.template.s3.url=https://xamopscftemplate.s3.ap-south-1.amazonaws.com/xamops-readonly-role-uat.yml
app.frontend.url=https://uat.xamops.com

# --- Secure Cookie Configuration for HTTPS ---
server.servlet.session.cookie.same-site=None
server.servlet.session.cookie.secure=true

# --- UAT Logging & Hibernate ---
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
server.forward-headers-strategy=native
logging.level.org.springframework=INFO
logging.level.com.xammer.cloud=INFO
logging.level.org.springframework.security=INFO
logging.level.org.springframework.web.cors=DEBUG
logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=DEBUG

# Email Configuration
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=notifications@xamops.com
spring.mail.password=biph daxm lnjt imer
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true